{"remainingRequest":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/views/Account.vue?vue&type=template&id=7cbffb3a","dependencies":[{"path":"/www/wwwroot/vue/src/views/Account.vue","mtime":1627217647227},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1627220029206},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iYWNjb3VudCI+CiAgICA8SGVhZGVyIHRpdGxlPSLotKbmiLflronlhagiIC8+CiAgICA8dmFuLWNlbGwgdGl0bGU9IuWvhueggeS/ruaUuSIgQGNsaWNrPSJ2aXNpYmxlID0gdHJ1ZSIgaXMtbGluayAvPgogICAgPHZhbi1idXR0b24gY2xhc3M9ImxvZ291dCIgdHlwZT0icHJpbWFyeSIgc2l6ZT0ibGFyZ2UiIEBjbGljaz0ibG9nb3V0Ij7pgIDlh7rnmbvlvZU8L3Zhbi1idXR0b24+CiAgICA8dmFuLWRpYWxvZyBjbGFzcz0ibW9kYWwtcGFzcyIgdi1tb2RlbDpzaG93PSJ2aXNpYmxlIiBAY29uZmlybT0iaGFuZGxlT2siIHRpdGxlPSLkv67mlLnlr4bnoIEiIHNob3ctY2FuY2VsLWJ1dHRvbj4KICAgICAgPHZhbi1jZWxsLWdyb3VwPgogICAgICAgIDx2YW4tZmllbGQKICAgICAgICAgIHYtbW9kZWw9Im9sZFBhc3MiCiAgICAgICAgICBsYWJlbD0i5Y6f5a+G56CBIgogICAgICAgICAgY2xlYXJhYmxlCiAgICAgICAgICBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5Y6f5a+G56CBIgogICAgICAgIC8+CiAgICAgICAgPHZhbi1maWVsZAogICAgICAgICAgdi1tb2RlbD0ibmV3UGFzcyIKICAgICAgICAgIGxhYmVsPSLmlrDlr4bnoIEiCiAgICAgICAgICBjbGVhcmFibGUKICAgICAgICAgIHBsYWNlaG9sZGVyPSLor7fovpPlhaXmlrDlr4bnoIEiCiAgICAgICAgLz4KICAgICAgICA8dmFuLWZpZWxkCiAgICAgICAgICB2LW1vZGVsPSJuZXdQYXNzMiIKICAgICAgICAgIGxhYmVsPSLnoa7orqTlr4bnoIEiCiAgICAgICAgICBjbGVhcmFibGUKICAgICAgICAgIHBsYWNlaG9sZGVyPSLlho3mrKHovpPlhaXnoa7orqQiCiAgICAgICAgLz4KICAgICAgPC92YW4tY2VsbC1ncm91cD4KICAgIDwvdmFuLWRpYWxvZz4KICA8L2Rpdj4K"},{"version":3,"sources":["/www/wwwroot/vue/src/views/Account.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACxD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;MACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/www/wwwroot/vue/src/views/Account.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"account\">\n    <Header title=\"账户安全\" />\n    <van-cell title=\"密码修改\" @click=\"visible = true\" is-link />\n    <van-button class=\"logout\" type=\"primary\" size=\"large\" @click=\"logout\">退出登录</van-button>\n    <van-dialog class=\"modal-pass\" v-model:show=\"visible\" @confirm=\"handleOk\" title=\"修改密码\" show-cancel-button>\n      <van-cell-group>\n        <van-field\n          v-model=\"oldPass\"\n          label=\"原密码\"\n          clearable\n          placeholder=\"请输入原密码\"\n        />\n        <van-field\n          v-model=\"newPass\"\n          label=\"新密码\"\n          clearable\n          placeholder=\"请输入新密码\"\n        />\n        <van-field\n          v-model=\"newPass2\"\n          label=\"确认密码\"\n          clearable\n          placeholder=\"再次输入确认\"\n        />\n      </van-cell-group>\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Toast } from 'vant'\nimport Header from '../components/Header.vue'\nimport axios from '../utils/axios'\n\nexport default {\n  name: 'Account',\n  components: {\n    Header\n  },\n  setup() {\n    const router = useRouter()\n    const state = reactive({\n      visible: false,\n      oldPass: '',\n      newPass: '',\n      newPass2: ''\n    })\n\n    // 修改密码\n    const handleOk = async () => {\n      if (state.newPass != state.newPass2) {\n        Toast.fail('新密码不一致')\n        return\n      }\n      const { data } = axios.post('/user/modify_pass', {\n        old_pass: state.oldPass,\n        new_pass: state.newPass,\n        new_pass2: state.newPass2\n      })\n\n      Toast.success('修改成功')\n    }\n\n    // 退出登录\n    const logout = () => {\n      localStorage.removeItem('token')\n      router.push({ path: '/login' })\n    }\n\n    return {\n      ...toRefs(state),\n      handleOk,\n      logout\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import url('../config/custom.less');\n  .account {\n    min-height: 100%;\n    background-color: #f5f5f5;\n    \n    .logout {\n      display: block;\n      margin: 0 auto;\n      width: 90%;\n      margin-top: 20px;\n      background-color: @primary;\n      border-color: @primary;\n    }\n    .modal-pass {\n      .van-dialog__header {\n        padding: 10px 0;\n      }\n      .van-dialog__content {\n        .van-cell-group {\n          padding: 20px;\n        }\n      }\n    }\n  }\n</style>"]}]}