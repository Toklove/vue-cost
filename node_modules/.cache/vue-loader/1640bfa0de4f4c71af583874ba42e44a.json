{"remainingRequest":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/www/wwwroot/vue/src/views/Login.vue","mtime":1627217647227},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIHJlZiwgb25Nb3VudGVkIH0gZnJvbSAndnVlJwppbXBvcnQgVnVlSW1nVmVyaWZ5IGZyb20gJy4uL2NvbXBvbmVudHMvVnVlSW1hZ2VWZXJpZnkudnVlJwppbXBvcnQgSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gJy4uL3V0aWxzL2F4aW9zJwppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ3ZhbnQnCmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnRzOiB7CiAgICBWdWVJbWdWZXJpZnksCiAgICBIZWFkZXIKICB9LAogIHNldHVwKCkgewogICAgY29uc3QgdmVyaWZ5UmVmID0gcmVmKG51bGwpCiAgICBjb25zdCBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHR5cGU6ICdsb2dpbicsIC8vIOeZu+W9leazqOWGjOaooeW8j+WIh+aNouWPguaVsAogICAgICB2ZXJpZnk6ICcnLCAvLyDpqozor4HnoIHovpPlhaXmoYbovpPlhaXnmoTlhoXlrrkKICAgICAgaW1nQ29kZTogJycsIC8vIOeUn+aIkOeahOmqjOivgeWbvueJh+WGheeahOaWh+WtlwogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfSkKCiAgICAvLyDmj5DkuqTnmbvlvZUgb3Ig5rOo5YaM6KGo5Y2VCiAgICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jICh2YWx1ZXMpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoc3RhdGUudHlwZSA9PSAnbG9naW4nKSB7CiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoJy91c2VyL2xvZ2luJywgewogICAgICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBzdGF0ZS5wYXNzd29yZAogICAgICAgICAgfSkKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEudG9rZW4pCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0ZS5pbWdDb2RlID0gdmVyaWZ5UmVmLnZhbHVlLmltZ0NvZGUgfHwgJycKICAgICAgICAgIGlmICh2ZXJpZnlSZWYudmFsdWUuaW1nQ29kZS50b0xvd2VyQ2FzZSgpICE9IHN0YXRlLnZlcmlmeS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2ZXJpZnlSZWYudmFsdWUuaW1nQ29kZScsIHZlcmlmeVJlZi52YWx1ZS5pbWdDb2RlKQogICAgICAgICAgICBUb2FzdC5mYWlsKCfpqozor4HnoIHplJnor68nKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoJy91c2VyL3JlZ2lzdGVyJywgewogICAgICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBzdGF0ZS5wYXNzd29yZAogICAgICAgICAgfSkKICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+azqOWGjOaIkOWKnycpCiAgICAgICAgICBzdGF0ZS50eXBlID0gJ2xvZ2luJwogICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKDExMSkKICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfQoKICAgIC8vIOWIh+aNoueZu+W9leWSjOazqOWGjOS4pOenjeaooeW8jwogICAgY29uc3QgY2hhbmVnVHlwZSA9ICh0eXBlKSA9PiB7CiAgICAgIHN0YXRlLnR5cGUgPSB0eXBlCiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgLi4udG9SZWZzKHN0YXRlKSwKICAgICAgb25TdWJtaXQsCiAgICAgIGNoYW5lZ1R5cGUsCiAgICAgIHZlcmlmeVJlZgogICAgfQogIH0KfQo="},{"version":3,"sources":["/www/wwwroot/vue/src/views/Login.vue"],"names":[],"mappings":";AAyEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EA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","file":"/www/wwwroot/vue/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <Header :title=\"type == 'login' ? '登录' : '注册'\" />\n  <div class=\"auth\">\n    <img class=\"logo\" src=\"//s.yezgea02.com/1606836859539/onpeice.png\" alt=\"\">\n    <van-form class=\"form-wrap\" @submit=\"onSubmit\" v-if=\"type == 'login'\">\n      <div class=\"form\">\n        <van-field\n          clearable\n          v-model=\"username\"\n          name=\"username\"\n          label=\"账号\"\n          placeholder=\"请输入账号\"\n          :rules=\"[{ required: true, message: '请填写账户' }]\"\n        />\n        <van-field\n          clearable\n          v-model=\"password\"\n          type=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          placeholder=\"请输入密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n      </div>\n      <div style=\"margin: 16px 0;\">\n        <van-button round block type=\"primary\" native-type=\"submit\">\n          登录\n        </van-button>\n        <p @click=\"chanegType('register')\" class=\"change-btn\">没有账号，前往注册</p>\n      </div>\n    </van-form>\n    <van-form class=\"form-wrap\" @submit=\"onSubmit\" v-if=\"type == 'register'\">\n      <div class=\"form\">\n        <van-field\n          clearable\n          v-model=\"username\"\n          name=\"username\"\n          label=\"账号\"\n          placeholder=\"请输入账号\"\n          :rules=\"[{ required: true, message: '请填写账号' }]\"\n        />\n        <van-field\n          clearable\n          v-model=\"password\"\n          type=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          placeholder=\"请输入密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <van-field\n          center\n          clearable\n          label=\"验证码\"\n          placeholder=\"输入验证码\"\n          v-model=\"verify\"\n        >\n          <template #button>\n            <VueImgVerify ref=\"verifyRef\" />\n          </template>\n        </van-field>\n      </div>\n      <div style=\"margin: 16px 0;\">\n        <van-button round block :loading=\"loading\" type=\"primary\" native-type=\"submit\">\n          注册\n        </van-button>\n        <p @click=\"chanegType('login')\" class=\"change-btn\">登录已有账号</p>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, ref, onMounted } from 'vue'\nimport VueImgVerify from '../components/VueImageVerify.vue'\nimport Header from '../components/Header.vue'\nimport axios from '../utils/axios'\nimport { Toast } from 'vant'\nimport router from '../router'\nexport default {\n  name: 'Login',\n  components: {\n    VueImgVerify,\n    Header\n  },\n  setup() {\n    const verifyRef = ref(null)\n    const state = reactive({\n      username: '',\n      password: '',\n      type: 'login', // 登录注册模式切换参数\n      verify: '', // 验证码输入框输入的内容\n      imgCode: '', // 生成的验证图片内的文字\n      loading: false\n    })\n\n    // 提交登录 or 注册表单\n    const onSubmit = async (values) => {\n      try {\n        if (state.type == 'login') {\n          const { data } = await axios.post('/user/login', {\n            username: state.username,\n            password: state.password\n          })\n          localStorage.setItem('token', data.token)\n          window.location.href = '/'\n        } else {\n          state.imgCode = verifyRef.value.imgCode || ''\n          if (verifyRef.value.imgCode.toLowerCase() != state.verify.toLowerCase()) {\n            console.log('verifyRef.value.imgCode', verifyRef.value.imgCode)\n            Toast.fail('验证码错误')\n            return\n          }\n          state.loading = true\n          const { data } = await axios.post('/user/register', {\n            username: state.username,\n            password: state.password\n          })\n          Toast.success('注册成功')\n          state.type = 'login'\n          state.loading = false\n        }\n      } catch (error) {\n        console.log(111)\n        state.loading = false\n      }\n    }\n\n    // 切换登录和注册两种模式\n    const chanegType = (type) => {\n      state.type = type\n    }\n\n    return {\n      ...toRefs(state),\n      onSubmit,\n      chanegType,\n      verifyRef\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n  @import url('../config/custom.less');\n  .auth {\n    height: calc(~\"(100% - 46px)\");\n    padding: 30px 20px 0 20px;\n    background: @primary-bg;\n    .logo {\n      width: 150px;\n      display: block;\n      margin: 0 auto;\n      margin-bottom: 30px;\n    }\n    .form-wrap {\n      .form {\n        border-radius: 10px;\n        overflow: hidden;\n        .van-cell:first-child {\n          padding-top: 20px;\n        }\n        .van-cell:last-child {\n          padding-bottom: 20px;\n        }\n      }\n    }\n    .change-btn {\n      text-align: center;\n      margin: 10px 0;\n      color: @link-color;\n      font-size: 14px;\n    }\n  }\n</style>"]}]}