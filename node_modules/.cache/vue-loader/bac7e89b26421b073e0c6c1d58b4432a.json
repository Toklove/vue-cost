{"remainingRequest":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/components/CardItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/www/wwwroot/vue/src/components/CardItem.vue","mtime":1627217647275},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNvbXB1dGVkLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhcmRJdGVtJywKICBwcm9wczogewogICAgYmlsbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IHt9CiAgICB9CiAgfSwKICBzZXR1cChwcm9wcykgewogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCkKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICBpbmNvbWU6IDAsCiAgICAgIGV4cGVuc2U6IDAKICAgIH0pCgogICAgc3RhdGUuaW5jb21lID0gcHJvcHMuYmlsbC5iaWxscy5maWx0ZXIoaSA9PiBpLnBheV90eXBlID09IDIpLnJlZHVjZSgoY3VyciwgaXRlbSkgPT4gewogICAgICBjdXJyICs9IE51bWJlcihpdGVtLmFtb3VudCkKICAgICAgcmV0dXJuIGN1cnIKICAgIH0sIDApCiAgICBzdGF0ZS5leHBlbnNlID0gcHJvcHMuYmlsbC5iaWxscy5maWx0ZXIoaSA9PiBpLnBheV90eXBlID09IDEpLnJlZHVjZSgoY3VyciwgaXRlbSkgPT4gewogICAgICBjdXJyICs9IE51bWJlcihpdGVtLmFtb3VudCkKICAgICAgcmV0dXJuIGN1cnIKICAgIH0sIDApCgogICAgY29uc3QgZ29Ub0RldGFpbCA9IChpdGVtKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0uaWQpCiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2RldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgfQogICAgICB9KQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIC4uLnRvUmVmcyhzdGF0ZSksCiAgICAgIGdvVG9EZXRhaWwKICAgIH0KICB9Cn0K"},{"version":3,"sources":["/www/wwwroot/vue/src/components/CardItem.vue"],"names":[],"mappings":"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","file":"/www/wwwroot/vue/src/components/CardItem.vue","sourceRoot":"","sourcesContent":["<template>\n  <van-cell-group class=\"item\">\n    <div class=\"header-date\">\n      <div>{{ bill.date }}</div>\n      <div class=\"money\">\n        <span><b>支</b>{{ expense.toFixed(2) }}</span>\n        <span><b>收</b>{{ income.toFixed(2) }}</span>\n      </div>\n    </div>\n    <van-cell\n      :class=\"{ expense: item.pay_type == 1, income: item.pay_type == 2 }\"\n      v-for=\"item in bill.bills\"\n      :key=\"item.id\"\n      @click=\"goToDetail(item)\"\n      :title=\"item.type_name\"\n      :value=\"`${item.pay_type == 1 ? '-' : '+'}${item.amount}`\"\n      :label=\"`${$filters.transTime(item.date)}${item.remark ? (' | ' + item.remark) : ''}`\"\n    />\n  </van-cell-group>\n</template>\n\n<script>\nimport { computed, reactive, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  name: 'CardItem',\n  props: {\n    bill: {\n      type: Object,\n      default: {}\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n    const state = reactive({\n      income: 0,\n      expense: 0\n    })\n\n    state.income = props.bill.bills.filter(i => i.pay_type == 2).reduce((curr, item) => {\n      curr += Number(item.amount)\n      return curr\n    }, 0)\n    state.expense = props.bill.bills.filter(i => i.pay_type == 1).reduce((curr, item) => {\n      curr += Number(item.amount)\n      return curr\n    }, 0)\n\n    const goToDetail = (item) => {\n      console.log(item.id)\n      router.push({\n        path: '/detail',\n        query: {\n          id: item.id\n        }\n      })\n    }\n\n    return {\n      ...toRefs(state),\n      goToDetail\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n  @import url('../config/custom.less');\n  .item {\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.1);\n    margin-bottom: 10px;\n    .header-date {\n      height: 60px;\n      display: flex;\n      background-color: #f9f9f9;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 10px;\n      div {\n        color: @color-text-base;\n      }\n      .money {\n        span {\n          margin-left: 20px;\n          b {\n            color: @color-text-caption;\n            font-weight: normal;\n            background-color: #f5f5f5;\n            padding: 3px;\n            margin-right: 2px;\n          }\n        }\n      }\n    }\n  }\n</style>\n<style lang='less'>\n  @import url('../config/custom.less');\n  .expense {\n    .van-cell__value {\n      color: @color-text-base!important;\n    }\n  }\n  .income {\n    .van-cell__value {\n      color: @text-warning!important;\n    }\n  }\n  \n</style>"]}]}