{"remainingRequest":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js!/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/components/PopType.vue?vue&type=script&lang=js","dependencies":[{"path":"/www/wwwroot/vue/src/components/PopType.vue","mtime":1627217647275},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3d3dy93d3dyb290L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi93d3cvd3d3cm9vdC92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBvbk1vdW50ZWQsIHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnLi4vdXRpbHMvYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHNlbGVjdDogRnVuY3Rpb24KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgY3R4KSB7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGFjdGl2ZTogJ+WFqOmDqOexu+WeiycsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBleHBlbnNlOiBbXSwKICAgICAgaW5jb21lOiBbXQogICAgfSk7IC8vIOivt+axguagh+etvuaOpeWPo+aUvuWcqOW8ueeql+WGhe+8jOi/meS4quW8ueeql+WPr+iDveS8muiiq+WkjeeUqO+8jOaJgOS7peivt+axguWmguaenOaUvuWcqOWklumdou+8jOS8mumAoOaIkOS7o+eggeWGl+S9meOAggoKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF95aWVsZCRheGlvcyRnZXQsIGxpc3Q7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3R5cGUvbGlzdCcpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGxpc3QgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGEubGlzdDsKICAgICAgICAgICAgICBzdGF0ZS5leHBlbnNlID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpLnR5cGUgPT0gMTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBzdGF0ZS5pbmNvbWUgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGkudHlwZSA9PSAyOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CgogICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgc3RhdGUuc2hvdyA9ICFzdGF0ZS5zaG93OwogICAgfTsKCiAgICB2YXIgY2hvc2VUeXBlID0gZnVuY3Rpb24gY2hvc2VUeXBlKGl0ZW0pIHsKICAgICAgc3RhdGUuYWN0aXZlID0gaXRlbS5pZDsKICAgICAgc3RhdGUuc2hvdyA9IGZhbHNlOwogICAgICBjdHguZW1pdCgnc2VsZWN0JywgaXRlbSk7CiAgICB9OwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICB0b2dnbGU6IHRvZ2dsZSwKICAgICAgY2hvc2VUeXBlOiBjaG9zZVR5cGUKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/www/wwwroot/vue/src/components/PopType.vue"],"names":[],"mappings":";;;;AA4BA,SAAS,SAAT,EAAoB,QAApB,EAA8B,MAA9B,QAA4C,KAA5C;AACA,OAAO,KAAP,MAAkB,gBAAlB;AACA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AADH,GADM;AAIb,EAAA,KAJa,iBAIP,KAJO,EAIA,GAJA,EAIK;AAChB,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,MAAM,EAAE,MADa;AAErB,MAAA,IAAI,EAAE,KAFe;AAGrB,MAAA,OAAO,EAAE,EAHY;AAIrB,MAAA,MAAM,EAAE;AAJa,KAAD,CAAtB,CADgB,CAOhB;;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACyB,KAAK,CAAC,GAAN,CAAU,YAAV,CADzB;;AAAA;AAAA;AACQ,cAAA,IADR,oBACA,IADA,CACQ,IADR;AAER,cAAA,KAAK,CAAC,OAAN,GAAgB,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAhB;AACA,cAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAf;;AAHQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;;AAMA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM;AACnB,MAAA,KAAK,CAAC,IAAN,GAAa,CAAC,KAAK,CAAC,IAApB;AACF,KAFA;;AAIA,QAAM,SAAQ,GAAI,SAAZ,SAAY,CAAC,IAAD,EAAU;AAC1B,MAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,EAApB;AACA,MAAA,KAAK,CAAC,IAAN,GAAa,KAAb;AACA,MAAA,GAAG,CAAC,IAAJ,CAAS,QAAT,EAAmB,IAAnB;AACF,KAJA;;AAMA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,MAAM,EAAN,MAFF;AAGE,MAAA,SAAQ,EAAR;AAHF;AAKF;AAjCa,CAAf","sourcesContent":["<template>\n  <van-popup\n    v-model:show=\"show\"\n    position=\"bottom\"\n    round\n    \n  >\n    <div class=\"pop\">\n      <div class=\"header van-hairline--bottom\">\n        请选择类型\n        <van-icon name=\"cross\" class=\"cross\" @click=\"toggle\" />\n      </div>\n      <div class=\"content\">\n        <div @click=\"choseType({ id: 'all' })\" :class=\"{ all: true, active: active == '全部类型' }\">全部类型</div>\n        <div class=\"title\">支出</div>\n        <div class=\"expense-wrap\">\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in expense\" :key=\"item\">{{ item.name }}</p>\n        </div>\n        <div class=\"title\">收入</div>\n        <div class=\"income-wrap\">\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in income\" :key=\"item\">{{ item.name }}</p>\n        </div>\n      </div>\n    </div>\n  </van-popup>\n</template>\n\n<script>\nimport { onMounted, reactive, toRefs } from 'vue'\nimport axios from '../utils/axios'\nexport default {\n  props: {\n    select: Function\n  },\n  setup(props, ctx) {\n    const state = reactive({\n      active: '全部类型',\n      show: false,\n      expense: [],\n      income: []\n    })\n    // 请求标签接口放在弹窗内，这个弹窗可能会被复用，所以请求如果放在外面，会造成代码冗余。\n    onMounted(async () => {\n      const { data: { list } } = await axios.get('/type/list')\n      state.expense = list.filter(i => i.type == 1)\n      state.income = list.filter(i => i.type == 2)\n    })\n    \n    const toggle = () => {\n      state.show = !state.show\n    }\n\n    const choseType = (item) => {\n      state.active = item.id\n      state.show = false\n      ctx.emit('select', item)\n    }\n\n    return {\n      ...toRefs(state),\n      toggle,\n      choseType\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n  @import url('../config/custom.less');\n  .pop {\n    position: relative;\n    background-color: #f5f5f5;\n    .header {\n      position: sticky;\n      top: 0;\n      left: 0;\n      z-index: 1000;\n      width: 100%;\n      height: 56px;\n      text-align: center;\n      font-size: 14px;\n      line-height: 56px;\n      color: @color-text-base;\n      background-color: #fff;\n      .cross {\n        position: absolute;\n        left: 10px;\n        top: 50%;\n        font-size: 20px;\n        transform: translateY(-50%);\n        color: @color-text-secondary;\n      }\n    }\n    .content {\n      padding: 20px;\n      .all {\n        display: inline-block;\n        padding: 12px 20px;\n        font-size: 16px;\n        color: @color-text-base;\n        background-color: #fff;\n      }\n      .title {\n        color: @color-text-caption;\n        margin: 10px 0;\n        font-size: 14px;\n      }\n      .expense-wrap, .income-wrap {\n        display: flex;\n        justify-content: space-between;\n        flex-wrap: wrap;\n        p {\n          width: calc(~\"(100% - 20px) / 3\");\n          text-align: center;\n          padding: 12px 0;\n          margin-bottom: 10px;\n          background-color: #fff;\n          font-size: 16px;\n        }\n      }\n      .active {\n        background-color: @primary!important;\n        color: #fff;\n      }\n    }\n  }\n</style>"],"sourceRoot":""}]}