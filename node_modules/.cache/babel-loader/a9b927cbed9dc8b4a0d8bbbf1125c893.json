{"remainingRequest":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js!/www/wwwroot/vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/views/Account.vue?vue&type=template&id=7cbffb3a","dependencies":[{"path":"/www/wwwroot/vue/src/views/Account.vue","mtime":1627217647227},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1627220029206},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJhY2NvdW50Igp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi6YCA5Ye655m75b2VIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0hlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2NlbGwgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWNlbGwiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9maWVsZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tZmllbGQiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2NlbGxfZ3JvdXAgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWNlbGwtZ3JvdXAiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2RpYWxvZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tZGlhbG9nIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0hlYWRlciwgewogICAgdGl0bGU6ICLotKbmiLflronlhagiCiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9jZWxsLCB7CiAgICB0aXRsZTogIuWvhueggeS/ruaUuSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHgudmlzaWJsZSA9IHRydWU7CiAgICB9KSwKICAgICJpcy1saW5rIjogIiIKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2J1dHRvbiwgewogICAgImNsYXNzIjogImxvZ291dCIsCiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBzaXplOiAibGFyZ2UiLAogICAgb25DbGljazogJHNldHVwLmxvZ291dAogIH0sIHsKICAgICJkZWZhdWx0IjogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9kaWFsb2csIHsKICAgICJjbGFzcyI6ICJtb2RhbC1wYXNzIiwKICAgIHNob3c6IF9jdHgudmlzaWJsZSwKICAgICJvblVwZGF0ZTpzaG93IjogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LnZpc2libGUgPSAkZXZlbnQ7CiAgICB9KSwKICAgIG9uQ29uZmlybTogJHNldHVwLmhhbmRsZU9rLAogICAgdGl0bGU6ICLkv67mlLnlr4bnoIEiLAogICAgInNob3ctY2FuY2VsLWJ1dHRvbiI6ICIiCiAgfSwgewogICAgImRlZmF1bHQiOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2NlbGxfZ3JvdXAsIG51bGwsIHsKICAgICAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgub2xkUGFzcywKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2N0eC5vbGRQYXNzID0gJGV2ZW50OwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6ICLljp/lr4bnoIEiLAogICAgICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWOn+WvhueggSIKICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgubmV3UGFzcywKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2N0eC5uZXdQYXNzID0gJGV2ZW50OwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6ICLmlrDlr4bnoIEiLAogICAgICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWsOWvhueggSIKICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgubmV3UGFzczIsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jdHgubmV3UGFzczIgPSAkZXZlbnQ7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBsYWJlbDogIuehruiupOWvhueggSIsCiAgICAgICAgICAgIGNsZWFyYWJsZTogIiIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5YaN5qyh6L6T5YWl56Gu6K6kIgogICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAgICwgWyJtb2RlbFZhbHVlIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsic2hvdyIsICJvbkNvbmZpcm0iXSldKTsKfQ=="},{"version":3,"sources":["/www/wwwroot/vue/src/views/Account.vue"],"names":[],"mappings":";;AACO,WAAM;;;+CAG8D,M;;;;;;;;;;;;;;;uBAHzE,YAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,CAzBJ,YAAA,CAAuB,iBAAvB,EAAuB;AAAf,IAAA,KAAK,EAAC;AAAS,GAAvB,CAyBI,EAxBJ,YAAA,CAAyD,mBAAzD,EAAyD;AAA/C,IAAA,KAAK,EAAC,MAAyC;AAAjC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,OAAA,GAAO,IAAT;AAAA,KAAA,CAA4B;AAAV,eAAA;AAAU,GAAzD,CAwBI,EAvBJ,YAAA,CAAwF,qBAAxF,EAAwF;AAA5E,aAAM,QAAsE;AAA7D,IAAA,IAAI,EAAC,SAAwD;AAA9C,IAAA,IAAI,EAAC,OAAyC;AAAhC,IAAA,OAAK,EAAE,MAAA,CAAA;AAAyB,GAAxF,E;wBAAuE;AAAA,aAAI,C,UAAA,CAAJ;AAAA,K;;;;GAAvE,E;;AAAA,I,WAAA,CAuBI,EAtBJ,YAAA,CAqBa,qBArBb,EAqBa;AArBD,aAAM,YAqBL;AArB0B,IAAA,IAAI,EAAE,IAAA,CAAA,OAqBhC;;aArBgC,IAAA,CAAA,OAAA,GAAO,M;MAqBvC;AArB0C,IAAA,SAAO,EAAE,MAAA,CAAA,QAqBnD;AArB6D,IAAA,KAAK,EAAC,MAqBnE;AArB0E,0BAAA;AAqB1E,GArBb,E;wBACE;AAAA,aAmBiB,CAnBjB,YAAA,CAmBiB,yBAnBjB,EAmBiB,IAnBjB,EAmBiB;4BAlBf;AAAA,iBAKE,CALF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,OAIT;;qBAJS,IAAA,CAAA,OAAA,GAAO,M;cAIhB;AAHA,YAAA,KAAK,EAAC,KAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CAKE,EACF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,OAIT;;qBAJS,IAAA,CAAA,OAAA,GAAO,M;cAIhB;AAHA,YAAA,KAAK,EAAC,KAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CADE,EAOF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,QAIT;;qBAJS,IAAA,CAAA,QAAA,GAAQ,M;cAIjB;AAHA,YAAA,KAAK,EAAC,MAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CAPE,CALF;AAAA,S,CAkBe;;;;AAAA,OAnBjB,CAmBiB,CAnBjB;AAAA,K;;;;GADF,E;;AAAA,I,qBAAA,CAsBI,CA1BN,C","sourcesContent":["<template>\n  <div class=\"account\">\n    <Header title=\"账户安全\" />\n    <van-cell title=\"密码修改\" @click=\"visible = true\" is-link />\n    <van-button class=\"logout\" type=\"primary\" size=\"large\" @click=\"logout\">退出登录</van-button>\n    <van-dialog class=\"modal-pass\" v-model:show=\"visible\" @confirm=\"handleOk\" title=\"修改密码\" show-cancel-button>\n      <van-cell-group>\n        <van-field\n          v-model=\"oldPass\"\n          label=\"原密码\"\n          clearable\n          placeholder=\"请输入原密码\"\n        />\n        <van-field\n          v-model=\"newPass\"\n          label=\"新密码\"\n          clearable\n          placeholder=\"请输入新密码\"\n        />\n        <van-field\n          v-model=\"newPass2\"\n          label=\"确认密码\"\n          clearable\n          placeholder=\"再次输入确认\"\n        />\n      </van-cell-group>\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Toast } from 'vant'\nimport Header from '../components/Header.vue'\nimport axios from '../utils/axios'\n\nexport default {\n  name: 'Account',\n  components: {\n    Header\n  },\n  setup() {\n    const router = useRouter()\n    const state = reactive({\n      visible: false,\n      oldPass: '',\n      newPass: '',\n      newPass2: ''\n    })\n\n    // 修改密码\n    const handleOk = async () => {\n      if (state.newPass != state.newPass2) {\n        Toast.fail('新密码不一致')\n        return\n      }\n      const { data } = axios.post('/user/modify_pass', {\n        old_pass: state.oldPass,\n        new_pass: state.newPass,\n        new_pass2: state.newPass2\n      })\n\n      Toast.success('修改成功')\n    }\n\n    // 退出登录\n    const logout = () => {\n      localStorage.removeItem('token')\n      router.push({ path: '/login' })\n    }\n\n    return {\n      ...toRefs(state),\n      handleOk,\n      logout\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import url('../config/custom.less');\n  .account {\n    min-height: 100%;\n    background-color: #f5f5f5;\n    \n    .logout {\n      display: block;\n      margin: 0 auto;\n      width: 90%;\n      margin-top: 20px;\n      background-color: @primary;\n      border-color: @primary;\n    }\n    .modal-pass {\n      .van-dialog__header {\n        padding: 10px 0;\n      }\n      .van-dialog__content {\n        .van-cell-group {\n          padding: 20px;\n        }\n      }\n    }\n  }\n</style>"],"sourceRoot":""}]}