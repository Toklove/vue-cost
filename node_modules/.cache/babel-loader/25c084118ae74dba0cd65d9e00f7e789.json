{"remainingRequest":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js!/www/wwwroot/vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/www/wwwroot/vue/src/views/Detail.vue?vue&type=template&id=40f4caea&scoped=true","dependencies":[{"path":"/www/wwwroot/vue/src/views/Detail.vue","mtime":1627217647227},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/babel-loader/lib/index.js","mtime":1627220017809},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1627220029206},{"path":"/www/wwwroot/vue/node_modules/cache-loader/dist/cjs.js","mtime":1627220017878},{"path":"/www/wwwroot/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1627220029206}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi00MGY0Y2FlYSIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNDBmNGNhZWEiKTsKCnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJkZXRhaWwiCn07CnZhciBfaG9pc3RlZF8yID0gewogICJjbGFzcyI6ICJjYXJkIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICAiY2xhc3MiOiAidHlwZSIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAga2V5OiAwLAogICJjbGFzcyI6ICJhbW91bnQgZXhwZW5zZSIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAxLAogICJjbGFzcyI6ICJhbW91bnQgaW5jb20iCn07CnZhciBfaG9pc3RlZF82ID0gewogICJjbGFzcyI6ICJpbmZvIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICAiY2xhc3MiOiAidGltZSIKfTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsICLorrDlvZXml7bpl7QiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICAiY2xhc3MiOiAicmVtYXJrIgp9OwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsICLlpIfms6giLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTEgPSB7CiAgImNsYXNzIjogIm9wZXJhdGlvbiB2YW4taGFpcmxpbmUtLXRvcCIKfTsKCnZhciBfaG9pc3RlZF8xMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLliKDpmaQiKTsKCnZhciBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLnvJbovpEiKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9IZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSGVhZGVyIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1pY29uIik7CgogIHZhciBfY29tcG9uZW50X1BvcEFkZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJQb3BBZGQiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSGVhZGVyLCB7CiAgICB0aXRsZTogIui0puWNleivpuaDhSIKICB9KSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKCJzcGFuIiwgewogICAgImNsYXNzIjogewogICAgICBleHBlbnNlOiBfY3R4LmRldGFpbC5wYXlfdHlwZSA9PSAxLAogICAgICBpbmNvbWU6IF9jdHguZGV0YWlsLnBheV90eXBlID09IDIKICAgIH0KICB9LCBbX2NyZWF0ZVZOb2RlKCJpIiwgewogICAgImNsYXNzIjogWyJpY29uZm9udCIsIF9jdHguZGV0YWlsLnR5cGVfaWQgPyBfY3R4LnR5cGVNYXBbX2N0eC5kZXRhaWwudHlwZV9pZF0uaWNvbiA6IDBdCiAgfSwgbnVsbCwgMgogIC8qIENMQVNTICovCiAgKV0sIDIKICAvKiBDTEFTUyAqLwogICksIF9jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5kZXRhaWwudHlwZV9uYW1lIHx8ICcnKSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jdHguZGV0YWlsLnBheV90eXBlID09IDEgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzQsICItIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5kZXRhaWwuYW1vdW50KSwgMQogIC8qIFRFWFQgKi8KICApKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgIisiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LmRldGFpbC5hbW91bnQpLCAxCiAgLyogVEVYVCAqLwogICkpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfaG9pc3RlZF84LCBfY3JlYXRlVk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguJGZpbHRlcnMudHJhbnNZRE0oTnVtYmVyKF9jdHguZGV0YWlsLmRhdGUpKSksIDEKICAvKiBURVhUICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfaG9pc3RlZF8xMCwgX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhfY3R4LmRldGFpbC5yZW1hcmsgfHwgJy0nKSwgMQogIC8qIFRFWFQgKi8KICApXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgICJjbGFzcyI6ICJ2YW4taGFpcmxpbmUtLXJpZ2h0IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmRlbGV0ZURldGFpbCAmJiAkc2V0dXAuZGVsZXRlRGV0YWlsLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9pY29uLCB7CiAgICBuYW1lOiAiZGVsZXRlIgogIH0pLCBfaG9pc3RlZF8xMl0pLCBfY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5vcGVuTW9kYWwgJiYgJHNldHVwLm9wZW5Nb2RhbC5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5faWNvbiwgewogICAgbmFtZTogImVkaXQiCiAgfSksIF9ob2lzdGVkXzEzXSldKSwgX2N0eC5kZXRhaWwuaWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Qb3BBZGQsIHsKICAgIGtleTogMiwKICAgIHJlZjogInBvcEFkZFJlZiIsCiAgICBkZXRhaWw6IF9jdHguZGV0YWlsLAogICAgb25SZWZyZXNoOiAkc2V0dXAuZ2V0RGV0YWlsCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImRldGFpbCIsICJvblJlZnJlc2giXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKTsKfSk7"},{"version":3,"sources":["/www/wwwroot/vue/src/views/Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"detail\">\n    <Header title='账单详情' />\n    <div class=\"card\">\n      <div class=\"type\">\n        <span :class=\"{ expense: detail.pay_type == 1, income: detail.pay_type == 2 }\">\n          <i class=\"iconfont\" :class=\"detail.type_id ? typeMap[detail.type_id].icon : 0\" />\n        </span>\n        <span>{{ detail.type_name || '' }}</span>\n      </div>\n      <div class=\"amount expense\" v-if=\"detail.pay_type == 1\">-{{ detail.amount }}</div>\n      <div class=\"amount incom\" v-else>+{{ detail.amount }}</div>\n      <div class=\"info\">\n        <div class=\"time\">\n          <span>记录时间</span>\n          <span>{{ $filters.transYDM(Number(detail.date)) }}</span>\n        </div>\n        <div class=\"remark\">\n          <span>备注</span>\n          <span>{{ detail.remark || '-' }}</span>\n        </div>\n      </div>\n      <div class=\"operation van-hairline--top\">\n        <span class=\"van-hairline--right\" @click=\"deleteDetail\"><van-icon name=\"delete\" />删除</span>\n        <span @click=\"openModal\"><van-icon name=\"edit\" />编辑</span>\n      </div>\n      <PopAdd v-if=\"detail.id\" ref=\"popAddRef\" :detail=\"detail\" @refresh=\"getDetail\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onMounted, reactive, ref, toRefs } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport Header from '../components/Header.vue'\nimport PopAdd from '../components/PopAdd.vue'\nimport { typeMap } from '../utils'\nimport axios from '../utils/axios'\nimport { Toast, Dialog } from 'vant'\nexport default {\n  name: 'Detail',\n  components: {\n    Header,\n    PopAdd\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const { id } = route.query\n    const popAddRef = ref(null)\n    const state = reactive({\n      typeMap,\n      detail: {}\n    })\n\n    onMounted(async () => {\n      getDetail()\n    })\n    // 获取账单详情方法\n    const getDetail = async () => {\n      const { data } = await axios.get(`/bill/detail?id=${id}`)\n      state.detail = data\n    }\n    // 打开编辑弹窗方法\n    const openModal = () => {\n      popAddRef.value.toggle()\n    }\n\n    // 删除方法\n    const deleteDetail = () => {\n      Dialog.confirm({\n        title: '删除',\n        message: '确认删除账单？',\n      }).then(async () => {\n        const { data } = await axios.post('/bill/delete', { id })\n        Toast.success('删除成功')\n        router.back()\n      }).catch(() => {})\n    }\n\n    return {\n      ...toRefs(state),\n      popAddRef,\n      openModal,\n      getDetail,\n      deleteDetail\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n  @import url('../config/custom.less');\n  .detail {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #f5f5f5;\n    padding: 12px 24px 0 24px;\n  }\n  .card {\n    border-radius: 12px;\n    background-color: #fff;\n    padding: 0 12px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .type {\n      padding: 24px 0 12px 0;\n      span:nth-of-type(1) {\n        display: inline-block;\n        width: 22px;\n        height: 22px;\n        color: #fff;\n        border-radius: 50%;\n        text-align: center;\n        line-height: 20px;\n        margin-right: 8px;\n      }\n      .expense {\n        background-color: @primary;\n      }\n      .income {\n        background-color: @text-warning;\n      }\n    }\n    .amount {\n      font-size: 24px;\n      font-weight: 600;\n      margin-bottom: 24px;\n    }\n    .info {\n      width: 100%;\n      font-size: 14px;\n      text-align: left;\n      .time {\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        margin-bottom: 12px;\n        span:nth-of-type(1) {\n          flex: 3;\n          color: @color-text-caption;\n        }\n        span:nth-of-type(2) {\n          flex: 9;\n        }\n      }\n      .remark {\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        margin-bottom: 12px;\n        span:nth-of-type(1) {\n          flex: 3;\n          color: @color-text-caption;\n        }\n        span:nth-of-type(2) {\n          flex: 9;\n          color: @color-text-base;\n        }\n      }\n    }\n    .operation {\n      width: 100%;\n      height: 50px;\n      display: flex;\n      align-items: center;\n      font-size: 16px;\n      .van-icon {\n        margin-right: 4px;\n      }\n      span {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        flex: 1\n      }\n      span:nth-of-type(1) {\n        color: red;\n      }\n    }\n  }\n</style>"],"sourceRoot":""}]}